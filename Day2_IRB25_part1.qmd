---
title: "R packages and advance table manipulation"
author: 
  - name: "dr.sc. Paula Štancl"
    affiliation: "Kuzman Consulting d.o.o"
  - name: "dr.sc. Andrea Gelemanović"
    affiliation: "MedILS, UNIST"
format:
  html:
    self-contained: true
    toc: true
    toc-depth: 4
    code-fold: false
    fig-align: center
    df-print: paged
execute:
  echo: true
  warning: false
  message: false
---

## Install a package

### CRAN

CRAN is the **official repository** for R packages. It hosts thousands of stable, peer-reviewed R packages that have passed strict checks for quality and compatibility.

```{r, eval=FALSE}
#Install from CRAN as follow:
install.packages("magrittr")
install.packages("dplyr")
install.packages("ggplot2") 
```

### Github

GitHub is a **platform for code sharing and collaboration**, widely used by developers. Many R package authors share their **development versions** on GitHub---these might include the newest features or bug fixes that haven't yet been submitted to CRAN.

```{r, eval=FALSE}
#Or, install the latest version from GitHub as follow:
# Install
if(!require(devtools)) install.packages("devtools")
devtools::install_github("kassambara/ggpubr")
```

### Bioconductor

Bioconductor is a **specialized repository** for packages focused on **bioinformatics, genomics, and computational biology**. It includes tools for analyzing DNA/RNA sequencing, gene expression, and other biological data.

```{r, eval=FALSE}
## Bioconductor
if (!require("BiocManager", quietly = TRUE))
    install.packages("BiocManager")

BiocManager::install("airway")
```

## Load the packages

When you **install a package** in R (using `install.packages()` or similar), you're downloading it and saving it to your computer. This only needs to be done **once** (per R environment).

However, to **use** the functions or data from a package in your current R session, you must **load** the package with `library()` or `require()`.

```{r, eval=FALSE}
library("magrittr")
library("data.table")
library("ggpubr")
library("airway")
```

## Pipes ( **%\>%** )

Package magrittr provides a new "pipe"-like operator, **`%>%`**. The pipe operator allows you to pipe a value forward into a function. For example you can write **`vec %>% sum`** instead of **`sum(vec)`** . It makes your code more intuitive to read and write especially when "pipping/chaining" multiple arguments. Fill in the example below:

```{r, eval=FALSE}
sample(x = 1:1000, size = 40) %>% 
   # Call function sum on the whole vector

   # Select only minimal and maximum  value

```

# Tables (`data.frame` vs `data.table`)

A **`data.frame`** is a 2D table-like structure where columns can hold different data types. **`data.table`** is an enhanced version of **`data.frame`** that provides faster and more memory-efficient operations.

::: callout-important
## Built-in datasets

-   R comes with several **built-in datasets** that are useful for learning, testing, and demonstrating functions without needing to load external data.

-   These datasets are included in base R and standard packages like `datasets`, and can be accessed directly by name (e.g., **`CO2`**, **`iris`**, **`mtcars`**, etc.).

-   One such dataset is `CO2`, which contains measurements of the **cold- and warm-treatment effects on carbon dioxide uptake** in grass plants. You can view available datasets with **`data()`** and get help on a specific one using **`?CO2`**.
:::

```{r}
# Call the table
head(CO2)
```

### Import different type of data

::: callout-important
## Functions to import the data

-   basic R import function:

    `df <- read.csv()`

    `df <- read.tsv()`

    `df <- read.table()`

-   data.table import function:

    `dt <- fread()`

-   using specialized funcions from R packages to import files such as Excel, SPSS

    `df <- read_excel()`

    `df <- read.spss()`

    `...`
:::

Import a file

Import a file from this link: <https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/hospitalizations/covid-hospitalizations.csv>
